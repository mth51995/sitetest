<!DOCTYPE html><html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Plataforma de Cursos</title>
<script src="https://www.youtube.com/iframe_api"></script>
<style>
body{margin:0;font-family:Arial;background:#f4f6f8}
.hidden{display:none}
header{background:#fff;padding:15px;text-align:center;font-weight:bold}
.container{max-width:1100px;margin:auto;padding:20px}
.login{max-width:360px;margin:80px auto;background:#fff;padding:25px;border-radius:8px}
input,button{width:100%;padding:12px;margin-top:10px}
button{background:#2d72ff;color:#fff;border:none;border-radius:5px}
.courses{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px}
.course{background:#fff;border-radius:8px;overflow:hidden;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,.1)}
.course img{width:100%;height:150px;object-fit:cover}
.course div{padding:15px}
.module{background:#fff;border-radius:8px;margin-bottom:10px;overflow:hidden}
.module-header{display:flex;align-items:center;justify-content:space-between;padding:15px;cursor:pointer;border-bottom:1px solid #eee}
.module-content{display:none;padding:15px}
.lessons{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
.lesson{background:#f1f1f1;border-radius:6px;cursor:pointer;overflow:hidden}
.lesson.done{border:3px solid #28a745}
.lesson img{width:100%;height:100px;object-fit:cover}
.lesson p{margin:0;padding:8px;font-size:14px;text-align:center}
iframe{width:100%;height:56.25vw;max-height:420px;margin-top:20px;border-radius:8px}
.progress{height:10px;background:#ddd;border-radius:5px;overflow:hidden;margin:15px 0}
.progress span{display:block;height:100%;background:#28a745;width:0}@media (max-width:768px){ header{position:sticky;top:0;z-index:5} .container{padding:12px} .login{margin:40px 10px} .courses{grid-template-columns:repeat(2,1fr);gap:12px} .course img{height:120px} .lessons{grid-template-columns:repeat(2,1fr)} .lesson img{height:90px} button{padding:14px;font-size:16px} iframe{border-radius:6px} }

@media (max-width:420px){ .courses{grid-template-columns:1fr} .lessons{grid-template-columns:1fr} header{font-size:18px} } </style>

</head>
<body>
<header>üéì Plataforma de Cursos</header><div class="login" id="login">
<h2>Entrar</h2>
<input id="email" placeholder="Email">
<input id="senha" type="password" placeholder="Senha">
<button onclick="entrar()">Entrar</button>
</div><div class="container hidden" id="dashboard">
<h2>Meus Cursos</h2>
<div class="courses" id="listaCursos"></div>
</div><div class="container hidden" id="curso">
<button onclick="voltar()">‚Üê Voltar</button>
<h2 id="cursoNome"></h2>
<div class="progress"><span id="barra"></span></div>
<div id="modulos"></div>
<iframe id="player" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</div><script>
const login=document.getElementById("login");
const dashboard=document.getElementById("dashboard");
const curso=document.getElementById("curso");
const listaCursos=document.getElementById("listaCursos");
const cursoNome=document.getElementById("cursoNome");
const modulos=document.getElementById("modulos");
const playerFrame=document.getElementById("player");
const barra=document.getElementById("barra");

const cursos={
eletricista:{
nome:"Eletricista Predial",
imagem:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTpzhHfIots2HGD1qbey8fqFztq8HkUgNAwofgmyP0eKA&s=10",
modulos:[
{nome:"Introdu√ß√£o",aulas:[{nome:"Apresenta√ß√£o",video:"M7lc1UVf-VE"},{nome:"Ferramentas",video:"ScMzIvxBSi4"}]},
{nome:"Instala√ß√µes",aulas:[{nome:"Tomadas",video:"ysz5S6PUM-U"},{nome:"Disjuntores",video:"aqz-KE-bpKQ"}]}
]
}
};

let cursoAtual="";
let assistidas=JSON.parse(localStorage.getItem("assistidas"))||[];
let playerYT,aulaAtualKey="",intervalo;

function entrar(){
let e=document.getElementById("email").value;
let s=document.getElementById("senha").value;
if(e==="admin"&&s==="123"){
login.classList.add("hidden");
dashboard.classList.remove("hidden");
renderCursos();
}else alert("Login inv√°lido");
}

function renderCursos(){
listaCursos.innerHTML="";
for(let id in cursos){
listaCursos.innerHTML+=`<div class="course" onclick="abrirCurso('${id}')"><img src="${cursos[id].imagem}"><div><strong>${cursos[id].nome}</strong></div></div>`;
}
}

function abrirCurso(id){
cursoAtual=id;
dashboard.classList.add("hidden");
curso.classList.remove("hidden");
cursoNome.innerText=cursos[id].nome;
renderModulos();
atualizarBarra();
}

function renderModulos(){
modulos.innerHTML="";
cursos[cursoAtual].modulos.forEach((m,mi)=>{
let aulasHTML="";
m.aulas.forEach((a,ai)=>{
let key=`${cursoAtual}-${mi}-${ai}`;
aulasHTML+=`<div class="lesson ${assistidas.includes(key)?"done":""}" onclick="play('${a.video}','${key}')"><img src="https://img.youtube.com/vi/${a.video}/mqdefault.jpg"><p>${a.nome}</p></div>`;
});
modulos.innerHTML+=`<div class="module"><div class="module-header" onclick="toggleModulo(${mi})"><h3>${m.nome}</h3><span id="icon-${mi}">‚ñ∂</span></div><div class="module-content" id="mod-${mi}"><div class="lessons">${aulasHTML}</div></div></div>`;
});
}

function toggleModulo(i){
document.querySelectorAll(".module-content").forEach((m,idx)=>{
m.style.display=idx===i&&m.style.display!=="block"?"block":"none";
document.getElementById("icon-"+idx).innerText=idx===i&&m.style.display==="block"?"‚ñº":"‚ñ∂";
});
}

function onYouTubeIframeAPIReady(){
playerYT=new YT.Player('player',{events:{'onStateChange':onPlayerStateChange}});
}

function play(video,key){
aulaAtualKey=key;
playerYT.loadVideoById(video);
}

function onPlayerStateChange(e){
if(e.data==YT.PlayerState.PLAYING){
clearInterval(intervalo);
intervalo=setInterval(()=>{
let t=playerYT.getCurrentTime();
let d=playerYT.getDuration();
if(t/d>0.7){concluirAula();clearInterval(intervalo);} },2000);
}
}

function concluirAula(){
if(!assistidas.includes(aulaAtualKey)){
assistidas.push(aulaAtualKey);
localStorage.setItem("assistidas",JSON.stringify(assistidas));
atualizarBarra();
renderModulos();
}
}

function atualizarBarra(){
let total=0;
cursos[cursoAtual].modulos.forEach(m=>total+=m.aulas.length);
let assistidasCurso=assistidas.filter(k=>k.startsWith(cursoAtual));
barra.style.width=(assistidasCurso.length/total)*100+"%";
}

function voltar(){
curso.classList.add("hidden");
dashboard.classList.remove("hidden");
if(playerYT)playerYT.stopVideo();
}
</script></body>
</html>
