<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Área de Membros</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f4f4;
}
.container {
  width: 360px;
  margin: auto;
  margin-top: 60px;
  background: #fff;
  padding: 20px;
  border-radius: 8px;
}
h2 {
  text-align: center;
}
input, button {
  width: 100%;
  padding: 10px;
  margin: 8px 0;
}
button {
  background: #2b7cff;
  color: #fff;
  border: none;
  cursor: pointer;
}
button:hover {
  background: #1f5fd1;
}
.hidden {
  display: none;
}
.curso {
  background: #eee;
  padding: 10px;
  margin: 10px 0;
  cursor: pointer;
}
.aula {
  background: #ddd;
  padding: 8px;
  margin: 5px 0;
}
.logout {
  background: #e74c3c;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="container" id="loginBox">
  <h2>Login</h2>
  <input id="loginEmail" placeholder="Email">
  <input id="loginSenha" type="password" placeholder="Senha">
  <button onclick="login()">Entrar</button>
  <p onclick="mostrarCadastro()" style="cursor:pointer;text-align:center;">Criar conta</p>
</div>

<!-- CADASTRO -->
<div class="container hidden" id="cadastroBox">
  <h2>Cadastro</h2>
  <input id="cadNome" placeholder="Nome">
  <input id="cadEmail" placeholder="Email">
  <input id="cadSenha" type="password" placeholder="Senha">
  <button onclick="cadastrar()">Cadastrar</button>
  <p onclick="mostrarLogin()" style="cursor:pointer;text-align:center;">Já tenho conta</p>
</div>

<!-- DASHBOARD -->
<div class="container hidden" id="dashboard">
  <h2 id="bemvindo"></h2>

  <h3>Meus Cursos</h3>

  <div class="curso" onclick="abrirCurso(0)">Curso de Introdução</div>
  <div class="curso" onclick="abrirCurso(1)">Curso Avançado</div>

  <button class="logout" onclick="logout()">Sair</button>
</div>

<!-- CURSO -->
<div class="container hidden" id="cursoBox">
  <h2 id="cursoTitulo"></h2>

  <div id="aulas"></div>

  <button onclick="voltarDashboard()">Voltar</button>
</div>

<script>
const cursos = [
  {
    nome: "Curso de Introdução",
    aulas: [
      "Aula 1 - Boas-vindas",
      "Aula 2 - Conceitos Básicos",
      "Aula 3 - Primeiros Passos"
    ]
  },
  {
    nome: "Curso Avançado",
    aulas: [
      "Aula 1 - Estratégias",
      "Aula 2 - Escala",
      "Aula 3 - Profissionalização"
    ]
  }
];

function cadastrar() {
  const nome = cadNome.value;
  const email = cadEmail.value;
  const senha = cadSenha.value;

  let users = JSON.parse(localStorage.getItem("users")) || [];
  if (users.find(u => u.email === email)) {
    alert("Email já cadastrado");
    return;
  }

  users.push({ nome, email, senha });
  localStorage.setItem("users", JSON.stringify(users));
  alert("Cadastro realizado");
  mostrarLogin();
}

function login() {
  const email = loginEmail.value;
  const senha = loginSenha.value;
  let users = JSON.parse(localStorage.getItem("users")) || [];

  const user = users.find(u => u.email === email && u.senha === senha);
  if (!user) {
    alert("Dados inválidos");
    return;
  }

  localStorage.setItem("logado", JSON.stringify(user));
  entrar(user);
}

function entrar(user) {
  loginBox.classList.add("hidden");
  cadastroBox.classList.add("hidden");
  dashboard.classList.remove("hidden");
  bemvindo.innerText = "Olá, " + user.nome;
}

function abrirCurso(index) {
  dashboard.classList.add("hidden");
  cursoBox.classList.remove("hidden");
  cursoTitulo.innerText = cursos[index].nome;
  aulas.innerHTML = "";

  cursos[index].aulas.forEach(a => {
    aulas.innerHTML += `<div class="aula">${a}</div>`;
  });
}

function voltarDashboard() {
  cursoBox.classList.add("hidden");
  dashboard.classList.remove("hidden");
}

function logout() {
  localStorage.removeItem("logado");
  mostrarLogin();
}

function mostrarLogin() {
  cadastroBox.classList.add("hidden");
  dashboard.classList.add("hidden");
  cursoBox.classList.add("hidden");
  loginBox.classList.remove("hidden");
}

function mostrarCadastro() {
  loginBox.classList.add("hidden");
  cadastroBox.classList.remove("hidden");
}

const salvo = JSON.parse(localStorage.getItem("logado"));
if (salvo) entrar(salvo);
</script>

</body>
</html>
