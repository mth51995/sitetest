<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Plataforma de Cursos</title>

<style>
:root{
  --primary:#2d72ff;
  --bg:#f4f6f8;
  --card:#ffffff;
  --success:#28a745;
  --text:#333;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
}
header{
  background:#fff;
  padding:15px;
  text-align:center;
  font-weight:bold;
  box-shadow:0 2px 5px rgba(0,0,0,.05);
}
.container{
  max-width:1000px;
  margin:auto;
  padding:20px;
}
.hidden{display:none}

/* LOGIN */
.login-box{
  max-width:360px;
  margin:80px auto;
  background:#fff;
  padding:25px;
  border-radius:8px;
  box-shadow:0 10px 25px rgba(0,0,0,.1);
}
input,button{
  width:100%;
  padding:12px;
  margin-top:10px;
}
button{
  background:var(--primary);
  border:none;
  color:#fff;
  cursor:pointer;
  border-radius:4px;
}

/* DASHBOARD */
.courses{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:20px;
}
.course-card{
  background:var(--card);
  border-radius:8px;
  overflow:hidden;
  box-shadow:0 5px 15px rgba(0,0,0,.08);
  cursor:pointer;
}
.course-card img{
  width:100%;
  height:140px;
  object-fit:cover;
}
.course-info{
  padding:15px;
}
.progress{
  height:8px;
  background:#ddd;
  border-radius:4px;
  overflow:hidden;
}
.progress div{
  height:100%;
  background:var(--success);
  width:0%;
}

/* CURSO */
.course-header{
  display:flex;
  gap:20px;
  margin-bottom:20px;
}
.course-header img{
  width:200px;
  height:120px;
  object-fit:cover;
  border-radius:8px;
}
.module{
  background:#fff;
  padding:15px;
  border-radius:6px;
  margin-bottom:10px;
  cursor:pointer;
}
.lesson{
  padding:10px;
  border-bottom:1px solid #eee;
}
.lesson.done{
  color:var(--success);
  font-weight:bold;
}
.player{
  background:#000;
  margin-top:20px;
}
iframe{
  width:100%;
  height:420px;
}
.back{
  margin-top:15px;
  background:#777;
}
</style>
</head>

<body>

<header>üéì Plataforma de Cursos</header>

<!-- LOGIN -->
<div class="login-box" id="login">
  <h2>Entrar</h2>
  <input placeholder="Email">
  <input type="password" placeholder="Senha">
  <button onclick="entrar()">Acessar</button>
</div>

<!-- DASHBOARD -->
<div class="container hidden" id="dashboard">
  <h2>Meus Cursos</h2>
  <div class="courses" id="listaCursos"></div>
</div>

<!-- CURSO -->
<div class="container hidden" id="curso">
  <button class="back" onclick="voltar()">‚Üê Voltar</button>
  <div class="course-header">
    <img id="cursoImg">
    <div>
      <h2 id="cursoNome"></h2>
      <div class="progress"><div id="cursoBarra"></div></div>
    </div>
  </div>

  <div id="modulos"></div>

  <div class="player">
    <iframe id="player" allowfullscreen></iframe>
  </div>
</div>

<script>
const cursos={
 eletricista:{
  nome:"Eletricista Predial",
  img:"https://picsum.photos/400?1",
  videos:["M7lc1UVf-VE","ScMzIvxBSi4","ysz5S6PUM-U","E7wJTI-1dvQ","aqz-KE-bpKQ"]
 },
 ar:{
  nome:"Viver de Ar Condicionado",
  img:"https://picsum.photos/400?2",
  videos:["ysz5S6PUM-U","aqz-KE-bpKQ","M7lc1UVf-VE","ScMzIvxBSi4","E7wJTI-1dvQ"]
 }
};

let atual="",assistidos={};

function entrar(){
 login.classList.add("hidden");
 dashboard.classList.remove("hidden");
 renderCursos();
}

function renderCursos(){
 listaCursos.innerHTML="";
 for(let id in cursos){
  let done=(JSON.parse(localStorage.getItem(id))||[]).length;
  let total=cursos[id].videos.length;
  let perc=(done/total)*100;
  listaCursos.innerHTML+=`
   <div class="course-card" onclick="abrirCurso('${id}')">
    <img src="${cursos[id].img}">
    <div class="course-info">
     <strong>${cursos[id].nome}</strong>
     <div class="progress"><div style="width:${perc}%"></div></div>
    </div>
   </div>`;
 }
}

function abrirCurso(id){
 atual=id;
 assistidos=JSON.parse(localStorage.getItem(id))||[];
 dashboard.classList.add("hidden");
 curso.classList.remove("hidden");
 cursoNome.innerText=cursos[id].nome;
 cursoImg.src=cursos[id].img;
 atualizarBarra();
 renderModulos();
}

function renderModulos(){
 modulos.innerHTML="";
 cursos[atual].videos.forEach((v,i)=>{
  modulos.innerHTML+=`
   <div class="lesson ${assistidos.includes(i)?'done':''}"
        onclick="play(${i})">
    Aula ${i+1} ${assistidos.includes(i)?'‚úî':''}
   </div>`;
 });
}

function play(i){
 player.src=`https://www.youtube.com/embed/${cursos[atual].videos[i]}?autoplay=1`;
 if(!assistidos.includes(i)){
  assistidos.push(i);
  localStorage.setItem(atual,JSON.stringify(assistidos));
  atualizarBarra();
  renderModulos();
 }
}

function atualizarBarra(){
 cursoBarra.style.width=(assistidos.length/cursos[atual].videos.length)*100+"%";
}

function voltar(){
 curso.classList.add("hidden");
 dashboard.classList.remove("hidden");
 player.src="";
 renderCursos();
}
</script>

</body>
</html>
