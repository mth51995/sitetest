<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>√Årea de Membros</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f2f2f2;
}
.container {
  width: 420px;
  margin: 20px auto;
  background: #fff;
  padding: 15px;
  border-radius: 8px;
}
h2,h3 {
  text-align: center;
}
.hidden { display:none; }

input, button {
  width: 100%;
  padding: 10px;
  margin: 6px 0;
}
button {
  background: #0066ff;
  color: #fff;
  border: none;
  cursor: pointer;
}
.folder {
  border: 1px solid #ddd;
  padding: 10px;
  margin: 10px 0;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 10px;
}
.folder img {
  width: 60px;
  height: 60px;
  object-fit: cover;
}
.video-thumb {
  background: #000;
  color: #fff;
  padding: 10px;
  margin: 6px 0;
  cursor: pointer;
}
video {
  width: 100%;
  margin-top: 10px;
}
.back {
  background: #999;
}
.logout {
  background: #e74c3c;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="container" id="loginBox">
  <h2>Login</h2>
  <input id="loginEmail" type="email" placeholder="Email">
  <input id="loginSenha" type="password" placeholder="Senha">
  <button onclick="login()">Entrar</button>
  <p onclick="mostrarCadastro()" style="cursor:pointer;text-align:center">Criar conta</p>
</div>

<!-- CADASTRO -->
<div class="container hidden" id="cadastroBox">
  <h2>Cadastro</h2>
  <input id="cadNome" placeholder="Nome">
  <input id="cadEmail" type="email" placeholder="Email">
  <input id="cadSenha" type="password" placeholder="Senha">
  <button onclick="cadastrar()">Cadastrar</button>
  <p onclick="mostrarLogin()" style="cursor:pointer;text-align:center">J√° tenho conta</p>
</div>

<!-- DASHBOARD -->
<div class="container hidden" id="dashboard">
  <h2 id="bemvindo"></h2>

  <div class="folder" onclick="abrirCurso('eletricista')">
    <img src="eletricista.jpg">
    <div>üìÅ Eletricista Predial</div>
  </div>

  <div class="folder" onclick="abrirCurso('ar')">
    <img src="ar.jpg">
    <div>üìÅ Viver de Ar Condicionado</div>
  </div>

  <button class="logout" onclick="logout()">Sair</button>
</div>

<!-- M√ìDULOS -->
<div class="container hidden" id="modulosBox">
  <h2 id="cursoTitulo"></h2>
  <div id="listaModulos"></div>
  <button class="back" onclick="voltarDashboard()">Voltar</button>
</div>

<!-- AULAS -->
<div class="container hidden" id="aulasBox">
  <h3 id="moduloTitulo"></h3>
  <div id="listaVideos"></div>
  <video id="player" controls></video>
  <button class="back" onclick="voltarModulos()">Voltar</button>
</div>

<script>
const cursos = {
  eletricista: {
    nome: "Eletricista Predial",
    modulos: {
      "M√≥dulo 1 - Introdu√ß√£o": [
        { titulo: "Boas-vindas", video: "https://www.w3schools.com/html/mov_bbb.mp4" },
        { titulo: "Ferramentas", video: "https://www.w3schools.com/html/movie.mp4" }
      ],
      "M√≥dulo 2 - Instala√ß√µes": [
        { titulo: "Tomadas", video: "https://www.w3schools.com/html/mov_bbb.mp4" }
      ]
    }
  },
  ar: {
    nome: "Viver de Ar Condicionado",
    modulos: {
      "M√≥dulo 1 - Mercado": [
        { titulo: "Introdu√ß√£o", video: "https://www.w3schools.com/html/movie.mp4" }
      ],
      "M√≥dulo 2 - Instala√ß√£o": [
        { titulo: "Split", video: "https://www.w3schools.com/html/mov_bbb.mp4" }
      ]
    }
  }
};

let cursoAtual = "";
let moduloAtual = "";

function cadastrar() {
  let users = JSON.parse(localStorage.getItem("users")) || [];
  users.push({ nome: cadNome.value, email: cadEmail.value, senha: cadSenha.value });
  localStorage.setItem("users", JSON.stringify(users));
  alert("Cadastro realizado");
  mostrarLogin();
}

function login() {
  let users = JSON.parse(localStorage.getItem("users")) || [];
  let user = users.find(u => u.email === loginEmail.value && u.senha === loginSenha.value);
  if (!user) return alert("Dados inv√°lidos");
  localStorage.setItem("logado", JSON.stringify(user));
  entrar(user);
}

function entrar(user) {
  loginBox.classList.add("hidden");
  cadastroBox.classList.add("hidden");
  dashboard.classList.remove("hidden");
  bemvindo.innerText = "Ol√°, " + user.nome;
}

function abrirCurso(id) {
  cursoAtual = id;
  dashboard.classList.add("hidden");
  modulosBox.classList.remove("hidden");
  cursoTitulo.innerText = cursos[id].nome;
  listaModulos.innerHTML = "";

  for (let modulo in cursos[id].modulos) {
    listaModulos.innerHTML += `
      <div class="folder" onclick="abrirModulo('${modulo}')">
        üìÇ ${modulo}
      </div>
    `;
  }
}

function abrirModulo(nome) {
  moduloAtual = nome;
  modulosBox.classList.add("hidden");
  aulasBox.classList.remove("hidden");
  moduloTitulo.innerText = nome;
  listaVideos.innerHTML = "";

  cursos[cursoAtual].modulos[nome].forEach(v => {
    listaVideos.innerHTML += `
      <div class="video-thumb" onclick="playVideo('${v.video}')">
        üé¨ ${v.titulo}
      </div>
    `;
  });
}

function playVideo(url) {
  player.src = url;
  player.play();
}

function voltarDashboard() {
  modulosBox.classList.add("hidden");
  dashboard.classList.remove("hidden");
}

function voltarModulos() {
  aulasBox.classList.add("hidden");
  modulosBox.classList.remove("hidden");
  player.pause();
}

function logout() {
  localStorage.removeItem("logado");
  mostrarLogin();
}

function mostrarLogin() {
  loginBox.classList.remove("hidden");
  cadastroBox.classList.add("hidden");
  dashboard.classList.add("hidden");
  modulosBox.classList.add("hidden");
  aulasBox.classList.add("hidden");
}

function mostrarCadastro() {
  loginBox.classList.add("hidden");
  cadastroBox.classList.remove("hidden");
}

const salvo = JSON.parse(localStorage.getItem("logado"));
if (salvo) entrar(salvo);
</script>

</body>
</html>
