<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>√Årea de Membros</title>

<style>
body { font-family: Arial, sans-serif; background:#f2f2f2; }
.container { width:420px; margin:15px auto; background:#fff; padding:15px; border-radius:8px; }
.hidden{display:none}
h2,h3{text-align:center}

.folder{border:1px solid #ddd;padding:10px;margin:8px 0;cursor:pointer}
.images{display:grid;grid-template-columns:repeat(4,1fr);gap:5px;margin:10px 0}
.images img{width:100%;height:60px;object-fit:cover;border-radius:4px}

.video{padding:8px;border:1px solid #ddd;margin:6px 0;cursor:pointer}
.done{background:#d4edda;color:#155724}
.progress{height:10px;background:#ddd;border-radius:5px;margin:10px 0}
.bar{height:10px;background:#28a745;width:0%;border-radius:5px}

button{width:100%;padding:10px;margin-top:8px;border:none;background:#0066ff;color:#fff;cursor:pointer}
.back{background:#999}
</style>
</head>

<body>

<div class="container" id="loginBox">
<h2>Login</h2>
<input id="email" placeholder="Email">
<input id="senha" type="password" placeholder="Senha">
<button onclick="login()">Entrar</button>
</div>

<div class="container hidden" id="dashboard">
<h2>Cursos</h2>
<div class="folder" onclick="abrirCurso('eletricista')">üìÅ Eletricista Predial</div>
<div class="folder" onclick="abrirCurso('ar')">üìÅ Viver de Ar Condicionado</div>
</div>

<div class="container hidden" id="cursoBox">
<h2 id="cursoTitulo"></h2>

<div class="images" id="galeria"></div>

<div class="progress"><div class="bar" id="barra"></div></div>

<div id="listaVideos"></div>

<div id="contador"></div>

<iframe id="player" width="100%" height="220"
allow="autoplay; encrypted-media" allowfullscreen></iframe>

<button class="back" onclick="voltar()">Voltar</button>
</div>

<script>
const cursos={
eletricista:{
nome:"Eletricista Predial",
imgs:[1,2,3,4,5,6,7,8].map(i=>`https://picsum.photos/200?e=${i}`),
videos:["M7lc1UVf-VE","ScMzIvxBSi4","ysz5S6PUM-U","E7wJTI-1dvQ","aqz-KE-bpKQ"]
},
ar:{
nome:"Viver de Ar Condicionado",
imgs:[11,12,13,14,15,16,17,18].map(i=>`https://picsum.photos/200?a=${i}`),
videos:["ysz5S6PUM-U","aqz-KE-bpKQ","M7lc1UVf-VE","ScMzIvxBSi4","E7wJTI-1dvQ"]
}
};

let cursoAtual="",videoAtual=0,assistidos={};

function login(){
document.getElementById("loginBox").classList.add("hidden");
document.getElementById("dashboard").classList.remove("hidden");
}

function abrirCurso(id){
cursoAtual=id;videoAtual=0;
assistidos=JSON.parse(localStorage.getItem(id))||{};
dashboard.classList.add("hidden");
cursoBox.classList.remove("hidden");
cursoTitulo.innerText=cursos[id].nome;
galeria.innerHTML=cursos[id].imgs.map(i=>`<img src="${i}">`).join("");
renderVideos();
playVideo(0);
}

function renderVideos(){
listaVideos.innerHTML="";
cursos[cursoAtual].videos.forEach((v,i)=>{
listaVideos.innerHTML+=`
<div class="video ${assistidos[i]?'done':''}" onclick="playVideo(${i})">
üé¨ Aula ${i+1} ${assistidos[i]?'‚úî':''}
</div>`;
});
updateBar();
}

function playVideo(i){
videoAtual=i;
player.src=`https://www.youtube.com/embed/${cursos[cursoAtual].videos[i]}?autoplay=1&enablejsapi=1`;
startCheck();
}

function startCheck(){
setTimeout(()=>{
assistidos[videoAtual]=true;
localStorage.setItem(cursoAtual,JSON.stringify(assistidos));
renderVideos();
if(videoAtual+1<cursos[cursoAtual].videos.length){
let t=5;
contador.innerText=`Pr√≥ximo v√≠deo em ${t}s`;
let c=setInterval(()=>{
t--;contador.innerText=`Pr√≥ximo v√≠deo em ${t}s`;
if(t===0){clearInterval(c);contador.innerText="";playVideo(videoAtual+1);}
},1000);
}
},10000); // 10s simula√ß√£o
}

function updateBar(){
const total=cursos[cursoAtual].videos.length;
const done=Object.keys(assistidos).length;
barra.style.width=((done/total)*100)+"%";
}

function voltar(){
cursoBox.classList.add("hidden");
dashboard.classList.remove("hidden");
player.src="";
}
</script>

</body>
</html>
